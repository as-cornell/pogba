{"version":3,"sources":["02-molecules/site/menus/main-menu/main-menu.js"],"names":["$","on","click","toggleClass","prev","attr","_this","parent","linkContent","next","console","log","hasClass","removeClass","find","addClass","removeAttr","jQuery"],"mappings":"aAAA;AACA,CAAC,SAAUA,CAAV,CAAa,CACZ;AACA;AACA;AACA;AACA;AACA;AAOA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AAEA;AAzBAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,EAAjB,CAAoB,CAClBC,KAAK,CAAE,gBAAY,CACjBF,CAAC,CAAC,UAAD,CAAD,CAAcG,WAAd,CAA0B,OAA1B,CACD,CAHiB,CAApB,CAPY,CAyBZH,CAAC,CAAC,kBAAD,CAAD,CAAsBI,IAAtB,GAA6BC,IAA7B,CAAkC,eAAlC,CAAmD,MAAnD,CAzBY,CA2BZL,CAAC,CAAC,WAAD,CAAD,CAAeK,IAAf,CAAoB,UAApB,CAAgC,CAAC,CAAjC,CA3BY,CAiCZL,CAAC,CAAC,wBAAD,CAAD,CAA4BE,KAA5B,CAAkC,UAAa,IACzCI,CAAAA,CAAK,CAAGN,CAAC,CAAC,IAAD,CADgC,CAEzCO,CAAM,CAAGP,CAAC,CAACM,CAAK,CAACC,MAAN,EAAD,CAF+B,CAGzCC,CAAW,CAAGR,CAAC,CAACM,CAAK,CAACF,IAAN,EAAD,CAH0B,CAI7CJ,CAAC,CAAC,IAAD,CAAD,CAAQG,WAAR,CAAoB,SAApB,CAJ6C,CAM7C,GAAIM,CAAAA,CAAI,CAAGT,CAAC,CAACM,CAAK,CAACG,IAAN,EAAD,CAAZ,CAEAC,OAAO,CAACC,GAAR,CAAYH,CAAZ,CAR6C,CAUxCC,CAAI,CAACG,QAAL,CAAc,kBAAd,CAVwC,EAiB3CZ,CAAC,CAACS,CAAD,CAAD,CAAQI,WAAR,CAAoB,kBAApB,CAjB2C,CAkB3Cb,CAAC,CAACO,CAAD,CAAD,CAAUM,WAAV,CAAsB,sBAAtB,CAlB2C,CAmB3CP,CAAK,CAACF,IAAN,GAAaU,IAAb,CAAkB,GAAlB,EAAuBT,IAAvB,CAA4B,UAA5B,CAAwC,CAAC,CAAzC,CAnB2C,GAW3CL,CAAC,CAACS,CAAD,CAAD,CAAQM,QAAR,CAAiB,kBAAjB,CAX2C,CAY3Cf,CAAC,CAACO,CAAD,CAAD,CAAUQ,QAAV,CAAmB,sBAAnB,CAZ2C,CAa3CT,CAAK,CAACF,IAAN,GAAaU,IAAb,CAAkB,GAAlB,EAAuBE,UAAvB,CAAkC,UAAlC,CAA8C,CAAC,CAA/C,CAb2C,CA0D9C,CA1DD,CA2DD,CA5FD,EA4FGC,MA5FH,C","sourcesContent":["// document is ready to go... or is it\n(function ($) {\n  // add active class to current item\n  // $(function () {\n  //   $('nav a[href^=\"/' + location.pathname.split(\"/\")[1] + '\"]').addClass(\n  //     \"active\"\n  //   );\n  // });\n  $(\".nav-opener\").on({\n    click: function () {\n      $(\".mainNav\").toggleClass(\"shown\");\n    },\n  });\n\n  // console.log( \"Let's do this!\"  );\n\n  // close the menu--secondary\n  // $('.menu--secondary a').attr('tabindex', -1);\n  // $('.menu--secondary').addClass('close');\n  // $(\".menu--secondary\").before(\"<button class='menu-toggle' aria-hidden='false' aria-label='menu--secondary is closed'><svg viewBox='0 0 20 20' class='icon--arrow'> <use xlink:href='#shape-icon-down-arrow'></use > </svg ><span class='sr-only'>Show nested menu</span></button>\");\n\n  //\n  // need to make this toggle want to control visibility with aria hiddens\n  //\n\n  // Add aria-haspopup true to links with popups\n  $(\".mainNav__toggle\").prev().attr(\"aria-haspopup\", \"true\");\n\n  $(\".subNav a\").attr(\"tabindex\", -1);\n\n  // var linkText = $('.expand-sub').prev().text();\n  // // console.log(linkText);\n\n  // if a menu-button is clicked...\n  $(\".mainNav__subNavToggle\").click(function (e) {\n    var _this = $(this);\n    var parent = $(_this.parent());\n    var linkContent = $(_this.prev());\n    $(this).toggleClass(\"rotated\");\n\n    var next = $(_this.next());\n\n    console.log(linkContent);\n\n    if (!next.hasClass(\"subNav--expanded\")) {\n      $(next).addClass(\"subNav--expanded\");\n      $(parent).addClass(\"withSubNav--expanded\");\n      _this.prev().find(\"a\").removeAttr(\"tabindex\", -1);\n\n      // remove sub-expaneded\n    } else {\n      $(next).removeClass(\"subNav--expanded\");\n      $(parent).removeClass(\"withSubNav--expanded\");\n      _this.prev().find(\"a\").attr(\"tabindex\", -1);\n    }\n\n    // $('.subNav__link').focus(function(){\n    //   $(this).addClass('sub-expanded');\n    //   console.log('hiya');\n    // });\n\n    // // if the menu--secondary is hidden....\n    // if (!_this.next().hasClass('display')) {\n\n    //   // reset menu--secondary + button arrow to start\n    //   $('.menu--secondary').removeClass('display');\n    //   $('.menu--secondary a').attr('tabindex', -1);\n    //   $('.fa').addClass('fa-angle-down');\n    //   $('.fa').removeClass('fa-angle-up');\n    //   $('.expand-sub').attr('aria-label', 'menu--secondary is closed');\n\n    //   // open menu\n    //  // _this.next().addClass('display');\n    //   // _this.prev().removeAttr('aria-expanded');\n    //   _this.prev().attr('aria-expanded', 'true');\n    //   //_this.next().find('a').removeAttr('tabindex', -1);\n    //   //_this.children().removeClass('fa-angle-down');\n    //  // _this.children().addClass('fa-angle-up');\n    //   //_this.attr('aria-label', 'menu--secondary is open');\n\n    //   // if the menu is open then...\n    // } else {\n\n    //   // close the menu...\n    //  // _this.next().removeClass('display');\n    //   _this.prev().attr('aria-expanded', 'false');\n    //  // _this.next().find('a').attr('tabindex', -1);\n    //  // _this.children().removeClass('fa-angle-up');\n    //  // _this.children().addClass('fa-angle-down');\n    // //  _this.attr('aria-label', 'menu--secondary is closed');\n\n    // }\n  });\n})(jQuery);\n\n// /**\n//  * @file\n//  * A JavaScript file containing the main menu functionality (small/large screen)\n//  *\n//  */\n\n// // JavaScript should be made compatible with libraries other than jQuery by\n// // wrapping it with an \"anonymous closure\". See:\n// // - https://drupal.org/node/1446420\n// // - http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth\n\n// // (function (Drupal) { // UNCOMMENT IF DRUPAL.\n// //\n// //   Drupal.behaviors.mainMenu = {\n// //     attach: function (context) {\n\n// (function () { // REMOVE IF DRUPAL.\n\n//   'use strict';\n\n//   // Use context instead of document IF DRUPAL.\n//   var toggle_expand = document.getElementById('toggle-expand');\n//   var menu = document.getElementById('main-nav');\n//   var expand_menu = menu.getElementsByClassName('expand-sub');\n\n//   // Mobile Menu Show/Hide.\n//   toggle_expand.addEventListener('click', function (e) {\n//     toggle_expand.classList.toggle('toggle-expand--open');\n//     menu.classList.toggle('main-nav--open');\n//   });\n\n//   // Expose mobile sub menu on click.\n//   for (var i = 0; i < expand_menu.length; i++) {\n//     expand_menu[i].addEventListener('click', function (e) {\n//       var menu_item = e.currentTarget;\n//       var sub_menu = menu_item.nextElementSibling;\n\n//       menu_item.classList.toggle('expand-sub--open');\n//       sub_menu.classList.toggle('main-menu--sub-open');\n//     });\n//   }\n\n// })(); // REMOVE IF DRUPAL.\n\n// // })(Drupal); // UNCOMMENT IF DRUPAL.\n"],"file":"main-menu.js"}